

CREATE TABLE TH197_TI_PROFILE
(
    TI_PROFILE_CD        VARCHAR2(1) NOT NULL ,
    TI_PROFILE_ENM       VARCHAR2(50) NOT NULL ,
    TI_PROFILE_FNM       VARCHAR2(50) NOT NULL ,
    TI_BUD_CODE_TXT      VARCHAR2(5) NOT NULL ,
    DATE_CREATED_DTE     DATE NULL ,
    DATE_LAST_UPDATE_DTE DATE NULL ,
    USER_LAST_UPDATE_ID  VARCHAR2(30) NULL ,
    DATE_DELETED_DTE     DATE NULL 
);

COMMENT ON TABLE TH197_TI_PROFILE IS 'TI (TECHNICAL INSPECTION) profile codes and the associated bud code for the HRSR application. ';

COMMENT ON COLUMN TH197_TI_PROFILE.TI_PROFILE_CD IS 'Unique code identifying the TI (TECHNICAL INSPECTION) profile code for the HRSR application. ';

COMMENT ON COLUMN TH197_TI_PROFILE.TI_PROFILE_ENM IS 'English name of the TI profile.';

COMMENT ON COLUMN TH197_TI_PROFILE.TI_PROFILE_FNM IS 'French name of the TI profile. ';

COMMENT ON COLUMN TH197_TI_PROFILE.TI_BUD_CODE_TXT IS 'Bud code associated with the TI profile code.';

COMMENT ON COLUMN TH197_TI_PROFILE.DATE_CREATED_DTE IS 'The date on which the data item was created and became available for use.';

COMMENT ON COLUMN TH197_TI_PROFILE.DATE_LAST_UPDATE_DTE IS 'The date the data item was last updated.';

COMMENT ON COLUMN TH197_TI_PROFILE.USER_LAST_UPDATE_ID IS 'The responsible user that affected the last change of the data record.';

COMMENT ON COLUMN TH197_TI_PROFILE.DATE_DELETED_DTE IS 'The date from which the data item is no longer allowed to be referenced for any new inserts or updates.
This can only happen for the current day or previous dates.';

CREATE UNIQUE INDEX TH197_PK ON TH197_TI_PROFILE
(TI_PROFILE_CD   ASC);

CREATE UNIQUE INDEX TH197_AK1 ON TH197_TI_PROFILE
(TI_PROFILE_ENM   ASC);

CREATE UNIQUE INDEX TH197_AK2 ON TH197_TI_PROFILE
(TI_PROFILE_FNM   ASC);

CREATE INDEX AH029_IF5 ON AH029_HRSR_STAFFING
(STF_TI_PROFILE_CD   ASC);

ALTER TABLE TH197_TI_PROFILE
ADD CONSTRAINT  TH197_PK PRIMARY KEY (TI_PROFILE_CD);

ALTER TABLE TH197_TI_PROFILE
ADD CONSTRAINT  TH197_AK1 UNIQUE (TI_PROFILE_ENM);

ALTER TABLE TH197_TI_PROFILE
ADD CONSTRAINT  TH197_AK2 UNIQUE (TI_PROFILE_FNM);

ALTER TABLE AH029_HRSR_STAFFING
ADD CONSTRAINT AH029_TH197_FK FOREIGN KEY (STF_TI_PROFILE_CD) REFERENCES TH197_TI_PROFILE (TI_PROFILE_CD);

CREATE OR REPLACE PUBLIC SYNONYM TH197_TI_PROFILE FOR TIPS.TH197_TI_PROFILE
/
GRANT SELECT ON TH197_TI_PROFILE TO TIPSUSER
/
GRANT SELECT, INSERT, UPDATE, DELETE ON TH197_TI_PROFILE TO EVERYTHING_IN_TIPS
/

