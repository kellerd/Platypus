
CREATE TABLE AH100_XREF_AH029_TH193
(
    HRSR_REQUEST_CD  VARCHAR2(20) NOT NULL ,
    CONDITION_OF_EMPLOYMENT_ID NUMBER NOT NULL ,
    DATE_CREATED_DTE     DATE NULL ,
    DATE_LAST_UPDATE_DTE DATE NULL ,
    USER_LAST_UPDATE_ID  VARCHAR2(30) NULL ,
    DATE_DELETED_DTE     DATE NULL 
);

COMMENT ON TABLE AH100_XREF_AH029_TH193 IS 'Cross reference table between an HRSR Staffing request (AH029_HRSR_STAFFING) and a condition of employment (TH193_CONDITION_OF_EMPLOYMENT)';

COMMENT ON COLUMN AH100_XREF_AH029_TH193.HRSR_REQUEST_CD IS 'Foreign key to the Staffing HRSR request. AH029_STAFFING_HRSR.
';

COMMENT ON COLUMN AH100_XREF_AH029_TH193.CONDITION_OF_EMPLOYMENT_ID IS 'Foreign key to TH193_CONDITION_OF_EMPLOYMENT. ';

COMMENT ON COLUMN AH100_XREF_AH029_TH193.DATE_CREATED_DTE IS 'The date on which the data item was created and became available for use.';

COMMENT ON COLUMN AH100_XREF_AH029_TH193.DATE_LAST_UPDATE_DTE IS 'The date the data item was last updated.';

COMMENT ON COLUMN AH100_XREF_AH029_TH193.USER_LAST_UPDATE_ID IS 'The responsible user that affected the last change of the data record.';

COMMENT ON COLUMN AH100_XREF_AH029_TH193.DATE_DELETED_DTE IS 'The date from which the data item is no longer allowed to be referenced for any new inserts or updates.
This can only happen for the current day or previous dates.';

CREATE UNIQUE INDEX AH100_PK ON AH100_XREF_AH029_TH193
(HRSR_REQUEST_CD   ASC,CONDITION_OF_EMPLOYMENT_ID   ASC);

CREATE INDEX AH100_IF1 ON AH100_XREF_AH029_TH193
(HRSR_REQUEST_CD   ASC);

CREATE INDEX AH100_IF2 ON AH100_XREF_AH029_TH193
(CONDITION_OF_EMPLOYMENT_ID   ASC);


CREATE TABLE TH192_CONDITION_CATEGORY
(
    CONDITION_CATEGORY_CD VARCHAR2(2) NOT NULL ,
    CONDITION_CATEGORY_ENM VARCHAR2(1000) NOT NULL ,
    CONDITION_CATEGORY_FNM VARCHAR2(1000) NULL ,
    DATE_CREATED_DTE     DATE NULL ,
    DATE_LAST_UPDATE_DTE DATE NULL ,
    USER_LAST_UPDATE_ID  VARCHAR2(30) NULL ,
    DATE_DELETED_DTE     DATE NULL 
);

COMMENT ON TABLE TH192_CONDITION_CATEGORY IS 'Look up table of the conditions of employment categories. ';

COMMENT ON COLUMN TH192_CONDITION_CATEGORY.CONDITION_CATEGORY_CD IS 'Unique key identifying the condition of employment category.';

COMMENT ON COLUMN TH192_CONDITION_CATEGORY.CONDITION_CATEGORY_ENM IS 'English name of the condition of employment category.';

COMMENT ON COLUMN TH192_CONDITION_CATEGORY.CONDITION_CATEGORY_FNM IS 'French name of the condition of employment category.';

COMMENT ON COLUMN TH192_CONDITION_CATEGORY.DATE_CREATED_DTE IS 'The date on which the data item was created and became available for use.';

COMMENT ON COLUMN TH192_CONDITION_CATEGORY.DATE_LAST_UPDATE_DTE IS 'The date the data item was last updated.';

COMMENT ON COLUMN TH192_CONDITION_CATEGORY.USER_LAST_UPDATE_ID IS 'The responsible user that affected the last change of the data record.';

COMMENT ON COLUMN TH192_CONDITION_CATEGORY.DATE_DELETED_DTE IS 'The date from which the data item is no longer allowed to be referenced for any new inserts or updates.
This can only happen for the current day or previous dates.';

CREATE UNIQUE INDEX TH192_PK ON TH192_CONDITION_CATEGORY
(CONDITION_CATEGORY_CD   ASC);

CREATE UNIQUE INDEX TH192_AK1 ON TH192_CONDITION_CATEGORY
(CONDITION_CATEGORY_ENM   ASC);

CREATE UNIQUE INDEX TH192_AK2 ON TH192_CONDITION_CATEGORY
(CONDITION_CATEGORY_FNM   ASC);

CREATE TABLE TH193_CONDITION_OF_EMPLOYMENT
(
    CONDITION_OF_EMPLOYMENT_ID NUMBER NOT NULL ,
    CONDITION_CATEGORY_CD VARCHAR2(2) NULL ,
    CONDITION_OF_EMPLOYMENT_ENM VARCHAR2(75) NOT NULL ,
    CONDITION_OF_EMPLOYMENT_FNM VARCHAR2(75) NOT NULL ,
    CONDITION_OF_EMPLOYMENT_ETXT VARCHAR2(1000) NOT NULL ,
    CONDITION_OF_EMPLOYMENT_FTXT VARCHAR2(1000) NOT NULL ,
    PROOF_REQUIRED_IND   NUMBER(1) NULL ,
    HRSR_DOCUMENT_ID     NUMBER NULL ,
    DATE_CREATED_DTE     DATE NULL ,
    DATE_LAST_UPDATE_DTE DATE NULL ,
    USER_LAST_UPDATE_ID  VARCHAR2(30) NULL ,
    DATE_DELETED_DTE     DATE NULL 
);

COMMENT ON TABLE TH193_CONDITION_OF_EMPLOYMENT IS 'A picklist of the conditions of employment for an assignment. Conditions of employment are any requirements, other than qualifications, that must be met or complied with before being appointed to a particular position, and are to be maintained throughout the employment while being the incumbent of this position. Conditions of employment may be the same criteria as for operational requirements or organizational needs.';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.CONDITION_OF_EMPLOYMENT_ID IS 'Unique, system generated primary key of the record. ';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.CONDITION_OF_EMPLOYMENT_ETXT IS 'English text of the condition of employment.';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.CONDITION_OF_EMPLOYMENT_FTXT IS 'French text of the condition of employment.';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.CONDITION_CATEGORY_CD IS 'Foreign key to TH192_CONDITION_CATEGORY. A unique key identifying the condition of employment category.';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.DATE_CREATED_DTE IS 'The date on which the data item was created and became available for use.';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.DATE_LAST_UPDATE_DTE IS 'The date the data item was last updated.';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.USER_LAST_UPDATE_ID IS 'The responsible user that affected the last change of the data record.';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.DATE_DELETED_DTE IS 'The date from which the data item is no longer allowed to be referenced for any new inserts or updates.
This can only happen for the current day or previous dates.';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.PROOF_REQUIRED_IND IS 'Indicates whether the employment condition requires proof the condition was met for HRSR employment condition. Valid values = 1/Yes, 0/No, NULL/Unknown at the time of creation. ';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.HRSR_DOCUMENT_ID IS 'Foreign key to TH200_HRSR_DOCUMENT table. This will identify the document required for the condtion of employment.';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.CONDITION_OF_EMPLOYMENT_ENM IS 'English name of the condition of employment';

COMMENT ON COLUMN TH193_CONDITION_OF_EMPLOYMENT.CONDITION_OF_EMPLOYMENT_FNM IS 'French name of the condition of employment.';

CREATE UNIQUE INDEX TH193_PK ON TH193_CONDITION_OF_EMPLOYMENT
(CONDITION_OF_EMPLOYMENT_ID   ASC);

CREATE UNIQUE INDEX TH193_AK1 ON TH193_CONDITION_OF_EMPLOYMENT
(CONDITION_OF_EMPLOYMENT_ENM   ASC);

CREATE UNIQUE INDEX TH193_AK2 ON TH193_CONDITION_OF_EMPLOYMENT
(CONDITION_OF_EMPLOYMENT_FNM   ASC);

ALTER TABLE TH193_CONDITION_OF_EMPLOYMENT
    MODIFY PROOF_REQUIRED_IND CONSTRAINT  PROOF_REQ_ID CHECK (PROOF_REQUIRED_IND BETWEEN 0 AND 1);

CREATE INDEX TH193_IF1 ON TH193_CONDITION_OF_EMPLOYMENT
(CONDITION_CATEGORY_CD   ASC);

CREATE INDEX TH193_IF2 ON TH193_CONDITION_OF_EMPLOYMENT
(HRSR_DOCUMENT_ID   ASC);

ALTER TABLE TH193_CONDITION_OF_EMPLOYMENT
ADD CONSTRAINT  TH193_PK PRIMARY KEY (CONDITION_OF_EMPLOYMENT_ID);





ALTER TABLE AH100_XREF_AH029_TH193
ADD CONSTRAINT  AH100_PK PRIMARY KEY (HRSR_REQUEST_CD,CONDITION_OF_EMPLOYMENT_ID);

ALTER TABLE TH192_CONDITION_CATEGORY
ADD CONSTRAINT  TH192_PK PRIMARY KEY (CONDITION_CATEGORY_CD);

ALTER TABLE TH192_CONDITION_CATEGORY
ADD CONSTRAINT  TH192_AK1 UNIQUE (CONDITION_CATEGORY_ENM);

ALTER TABLE TH192_CONDITION_CATEGORY
ADD CONSTRAINT  TH192_AK2 UNIQUE (CONDITION_CATEGORY_FNM);

ALTER TABLE AH100_XREF_AH029_TH193
ADD CONSTRAINT AH100_AH029_FK FOREIGN KEY (HRSR_REQUEST_CD) REFERENCES AH029_HRSR_STAFFING (STF_HRSR_REQUEST_CD);

ALTER TABLE AH100_XREF_AH029_TH193
ADD CONSTRAINT AH100_TH193_FK FOREIGN KEY (CONDITION_OF_EMPLOYMENT_ID) REFERENCES TH193_CONDITION_OF_EMPLOYMENT (CONDITION_OF_EMPLOYMENT_ID);

ALTER TABLE TH193_CONDITION_OF_EMPLOYMENT
ADD CONSTRAINT TH193_TH192_FK FOREIGN KEY (CONDITION_CATEGORY_CD) REFERENCES TH192_CONDITION_CATEGORY (CONDITION_CATEGORY_CD);

CREATE OR REPLACE PUBLIC SYNONYM TH192_CONDITION_CATEGORY FOR TIPS.TH192_CONDITION_CATEGORY;
CREATE OR REPLACE PUBLIC SYNONYM TH193_CONDITION_OF_EMPLOYMENT FOR TIPS.TH193_CONDITION_OF_EMPLOYMENT;
CREATE OR REPLACE PUBLIC SYNONYM AH100_XREF_AH029_TH193 FOR TIPS.AH100_XREF_AH029_TH193;

GRANT SELECT ON TH192_CONDITION_CATEGORY TO TIPSUSER;
GRANT SELECT ON TH193_CONDITION_OF_EMPLOYMENT TO TIPSUSER;
GRANT SELECT ON AH100_XREF_AH029_TH193 TO TIPSUSER;

GRANT SELECT, INSERT, UPDATE, DELETE ON TH192_CONDITION_CATEGORY TO EVERYTHING_IN_TIPS;
GRANT SELECT, INSERT, UPDATE, DELETE ON TH193_CONDITION_OF_EMPLOYMENT TO EVERYTHING_IN_TIPS;
GRANT SELECT, INSERT, UPDATE, DELETE ON AH100_XREF_AH029_TH193 TO EVERYTHING_IN_TIPS;



