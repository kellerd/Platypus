
CREATE TABLE AH102_HRSR_LETTER_OF_OFFER
(
    HRSR_LETTER_OF_OFFER_ID NUMBER NOT NULL ,
    HRSR_REQUEST_CD      VARCHAR2(20) NOT NULL ,
    DATE_CREATED_DTE     DATE NULL ,
    DATE_LAST_UPDATE_DTE DATE NULL ,
    USER_LAST_UPDATE_ID  VARCHAR2(30) NULL ,
    DATE_DELETED_DTE     DATE NULL 
);

COMMENT ON TABLE AH102_HRSR_LETTER_OF_OFFER IS 'A table to store a copy of any and all letters of offers generated for an HRSR record.';

COMMENT ON COLUMN AH102_HRSR_LETTER_OF_OFFER.HRSR_LETTER_OF_OFFER_ID IS 'Unique, sequence generated primary key of the record.';

COMMENT ON COLUMN AH102_HRSR_LETTER_OF_OFFER.HRSR_REQUEST_CD IS 'Foreign key to an HRSR Staffing record (AH029_HRSR_STAFFING). Identifies the HRSR request the letter of offer (LOO) has been generated for.';

COMMENT ON COLUMN AH102_HRSR_LETTER_OF_OFFER.DATE_CREATED_DTE IS 'The date on which the data item was created and became available for use.';

COMMENT ON COLUMN AH102_HRSR_LETTER_OF_OFFER.DATE_LAST_UPDATE_DTE IS 'The date the data item was last updated.';

COMMENT ON COLUMN AH102_HRSR_LETTER_OF_OFFER.USER_LAST_UPDATE_ID IS 'The responsible user that affected the last change of the data record.';

COMMENT ON COLUMN AH102_HRSR_LETTER_OF_OFFER.DATE_DELETED_DTE IS 'The date from which the data item is no longer allowed to be referenced for any new inserts or updates.
This can only happen for the current day or previous dates.';

CREATE UNIQUE INDEX AH102_PK ON AH102_HRSR_LETTER_OF_OFFER
(HRSR_LETTER_OF_OFFER_ID   ASC);

CREATE INDEX AH102_IF1 ON AH102_HRSR_LETTER_OF_OFFER
(HRSR_REQUEST_CD   ASC);

ALTER TABLE AH102_HRSR_LETTER_OF_OFFER
ADD CONSTRAINT  AH102_PK PRIMARY KEY (HRSR_LETTER_OF_OFFER_ID);

ALTER TABLE AH102_HRSR_LETTER_OF_OFFER
ADD CONSTRAINT AH102_AH029_FK FOREIGN KEY (HRSR_REQUEST_CD) REFERENCES AH029_HRSR_STAFFING (STF_HRSR_REQUEST_CD);

CREATE OR REPLACE PUBLIC SYNONYM AH102_HRSR_LETTER_OF_OFFER
  FOR TIPS.AH102_HRSR_LETTER_OF_OFFER
/

GRANT SELECT ON AH102_HRSR_LETTER_OF_OFFER TO TIPSUSER;
GRANT SELECT, INSERT, UPDATE, DELETE ON AH102_HRSR_LETTER_OF_OFFER TO EVERYTHING_IN_TIPS;
  
