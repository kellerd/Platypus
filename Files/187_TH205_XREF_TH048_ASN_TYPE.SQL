
CREATE TABLE TH205_XREF_TH048_ASN_TYPE
(
    ACTION_CD            VARCHAR2(2) NOT NULL ,
    ASSIGNMENT_TYPE_CD   VARCHAR(2) NOT NULL ,
    DATE_CREATED_DTE     DATE NULL ,
    DATE_LAST_UPDATE_DTE DATE NULL ,
    USER_LAST_UPDATE_ID  VARCHAR2(30) NULL ,
    DATE_DELETED_DTE     DATE NULL 
);

COMMENT ON TABLE TH205_XREF_TH048_ASN_TYPE IS 'Cross reference table between the TH048_ACTION_CODE and ASSIGNMENT_TYPE. This table will associate all Assignment Types that are available for each HRSR action type.';

COMMENT ON COLUMN TH205_XREF_TH048_ASN_TYPE.ACTION_CD IS 'Foreign key to TH048_HRSR_ACTION. The action type codes of the HRSR. ';

COMMENT ON COLUMN TH205_XREF_TH048_ASN_TYPE.ASSIGNMENT_TYPE_CD IS 'Foreign key to ASSIGNMENT_TYPES. The assignment type code associated with the HRSR action code. The type of assignment (incumbent (I1), acting (A1), ...)';

COMMENT ON COLUMN TH205_XREF_TH048_ASN_TYPE.DATE_CREATED_DTE IS 'The date on which the data item was created and became available for use.';

COMMENT ON COLUMN TH205_XREF_TH048_ASN_TYPE.DATE_LAST_UPDATE_DTE IS 'The date the data item was last updated.';

COMMENT ON COLUMN TH205_XREF_TH048_ASN_TYPE.USER_LAST_UPDATE_ID IS 'The responsible user that affected the last change of the data record.';

COMMENT ON COLUMN TH205_XREF_TH048_ASN_TYPE.DATE_DELETED_DTE IS 'The date from which the data item is no longer allowed to be referenced for any new inserts or updates.
This can only happen for the current day or previous dates.';

CREATE UNIQUE INDEX TH205_PK ON TH205_XREF_TH048_ASN_TYPE
(ACTION_CD   ASC,ASSIGNMENT_TYPE_CD   ASC);

CREATE INDEX TH205_IF1 ON TH205_XREF_TH048_ASN_TYPE
(ACTION_CD   ASC);

CREATE INDEX TH205_IF2 ON TH205_XREF_TH048_ASN_TYPE
(ASSIGNMENT_TYPE_CD   ASC);

ALTER TABLE TH205_XREF_TH048_ASN_TYPE
ADD CONSTRAINT  TH205_PK PRIMARY KEY (ACTION_CD,ASSIGNMENT_TYPE_CD);

ALTER TABLE TH205_XREF_TH048_ASN_TYPE
ADD CONSTRAINT TH205_TH048_FK FOREIGN KEY (ACTION_CD) REFERENCES TH048_HRSR_ACTION (ACT_ACTION_CD);

ALTER TABLE TH205_XREF_TH048_ASN_TYPE
ADD CONSTRAINT TH205_ASSIG_FK FOREIGN KEY (ASSIGNMENT_TYPE_CD) REFERENCES ASSIGNMENT_TYPES (AST_ASSIGNMENT_TYPE_CODE);

CREATE OR REPLACE PUBLIC SYNONYM TH205_XREF_TH048_ASN_TYPE FOR TH205_XREF_TH048_ASN_TYPE;

GRANT SELECT ON TH205_XREF_TH048_ASN_TYPE TO TIPSUSER;
GRANT SELECT, INSERT, UPDATE, DELETE ON TH205_XREF_TH048_ASN_TYPE TO EVERYTHING_IN_TIPS;
