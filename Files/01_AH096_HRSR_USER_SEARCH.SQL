

CREATE TABLE AH096_HRSR_USER_SEARCH
(   SEARCH_ID            NUMBER NOT NULL, 
    USER_ID              VARCHAR2(10) NOT NULL ,
    SEARCH_NAME_TXT      VARCHAR2(250) NOT NULL ,
    SEARCH_CRITERIA_TXT  VARCHAR2(1000) NOT NULL ,
    USER_DEFAULT_SEARCH_IND NUMBER(1) NOT NULL  CONSTRAINT  USER_DEFAULT_SEARCH_IND CHECK (USER_DEFAULT_SEARCH_IND BETWEEN 0 AND 1),
    AUDIT_ROW_ID         VARCHAR2(20) NOT NULL,
    DATE_CREATED_DTE     DATE,
    DATE_LAST_UPDATE_DTE DATE,
    USER_LAST_UPDATE_ID  VARCHAR2(30),
    DATE_DELETED_DTE     DATE   
);

COMMENT ON TABLE AH096_HRSR_USER_SEARCH IS 'Table will store user defined search criteria for the HRSR application. ';

COMMENT ON COLUMN AH096_HRSR_USER_SEARCH.USER_ID IS 'User ID of the HRSR user who is saving a default search criteria. LEGACY COLUMN.';

COMMENT ON COLUMN AH096_HRSR_USER_SEARCH.SEARCH_NAME_TXT IS 'Name of the user defined search criteria ';

COMMENT ON COLUMN AH096_HRSR_USER_SEARCH.SEARCH_CRITERIA_TXT IS 'Search criteria';

COMMENT ON COLUMN AH096_HRSR_USER_SEARCH.USER_DEFAULT_SEARCH_IND IS 'Indicator as to whether this record is default search criteria. 1 = Yes, 0 = No.';

COMMENT ON COLUMN AH096_HRSR_USER_SEARCH.AUDIT_ROW_ID IS 'Audit row ID of the record. LEGACY COLUMN.';

COMMENT ON COLUMN AH096_HRSR_USER_SEARCH.SEARCH_ID IS 'Trigger generated primary key. ';

COMMENT ON COLUMN TIPS.AH096_HRSR_USER_SEARCH.DATE_CREATED_DTE IS 'The date on which the data item was created and became available for use.';

COMMENT ON COLUMN TIPS.AH096_HRSR_USER_SEARCH.DATE_LAST_UPDATE_DTE IS 'The date the data item was last updated.';

COMMENT ON COLUMN TIPS.AH096_HRSR_USER_SEARCH.USER_LAST_UPDATE_ID IS 'The responsible user that affected the last change of the data record.';

COMMENT ON COLUMN TIPS.AH096_HRSR_USER_SEARCH.DATE_DELETED_DTE IS 'The date from which the data item is no longer allowed to be referenced for any new inserts or updates.
This can only happen for the current day or previous dates.';


CREATE UNIQUE INDEX AH096_PK ON AH096_HRSR_USER_SEARCH
(SEARCH_ID   ASC);

CREATE INDEX AH096_IE1 ON AH096_HRSR_USER_SEARCH
(USER_ID   ASC);

ALTER TABLE AH096_HRSR_USER_SEARCH
    ADD CONSTRAINT  AH096_PK PRIMARY KEY (SEARCH_ID);

CREATE OR REPLACE PUBLIC SYNONYM AH096_HRSR_USER_SEARCH FOR TIPS.AH096_HRSR_USER_SEARCH;

GRANT SELECT ON AH096_HRSR_USER_SEARCH TO TIPSUSER;
GRANT SELECT, INSERT, UPDATE, DELETE ON AH096_HRSR_USER_SEARCH TO EVERYTHING_IN_TIPS;

