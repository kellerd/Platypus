
CREATE TABLE TH204_XREF_STAFFING_VALIDATION
(
    STAFFING_VALIDATION_ID NUMBER NOT NULL ,
    HRSR_ACTION_CD       VARCHAR2(2) NOT NULL ,
    ASSIGNMENT_TYPE_CD   VARCHAR(2) NOT NULL ,
    EMPLOYMENT_TYPE_CD   VARCHAR2(1) NOT NULL ,
    HRSR_WORK_HOURS_CD   VARCHAR2(2) NULL ,
    EXTENSION_CD         VARCHAR2(1) NULL ,
    DATE_CREATED_DTE     DATE NULL ,
    USER_LAST_UPDATE_ID  VARCHAR2(30) NULL ,
    DATE_LAST_UPDATE_DTE DATE NULL ,
    DATE_DELETED_DTE     DATE NULL 
);

COMMENT ON COLUMN TH204_XREF_STAFFING_VALIDATION.ASSIGNMENT_TYPE_CD IS 'Foreign key to ASSIGNMENT_TYPES. The type of assignment (incumbent, acting, ...)';

COMMENT ON COLUMN TH204_XREF_STAFFING_VALIDATION.EMPLOYMENT_TYPE_CD IS 'Foreign key to TH189_EMPLOYMENT_TYPE_CODE. Code to uniquely represet the employment type code. ';

COMMENT ON COLUMN TH204_XREF_STAFFING_VALIDATION.HRSR_ACTION_CD IS 'Foreign key to TH048_HRSR_ACTION. A code to identify the HRSR action type. ';

COMMENT ON COLUMN TH204_XREF_STAFFING_VALIDATION.HRSR_WORK_HOURS_CD IS 'Foreign key to TH198_HRSR_WORK_HOURS. The code identifying the hours to be worked (FT, PT, etc). ';

COMMENT ON COLUMN TH204_XREF_STAFFING_VALIDATION.STAFFING_VALIDATION_ID IS 'Unique sequence generated id of the record.';

COMMENT ON COLUMN TH204_XREF_STAFFING_VALIDATION.DATE_CREATED_DTE IS 'The date on which the data item was created and became available for use.';

COMMENT ON COLUMN TH204_XREF_STAFFING_VALIDATION.USER_LAST_UPDATE_ID IS 'The responsible user that affected the last change of the data record.';

COMMENT ON COLUMN TH204_XREF_STAFFING_VALIDATION.DATE_LAST_UPDATE_DTE IS 'The date the data item was last updated.';

COMMENT ON COLUMN TH204_XREF_STAFFING_VALIDATION.DATE_DELETED_DTE IS 'The date from which the data item is no longer allowed to be referenced for any new inserts or updates.
This can only happen for the current day or previous dates.';

COMMENT ON COLUMN TH204_XREF_STAFFING_VALIDATION.EXTENSION_CD IS 'Goreign key to TH053. Type of either new or extension';

CREATE UNIQUE INDEX TH204_PK ON TH204_XREF_STAFFING_VALIDATION
(STAFFING_VALIDATION_ID   ASC);

CREATE UNIQUE INDEX TH204_AK1 ON TH204_XREF_STAFFING_VALIDATION
(ASSIGNMENT_TYPE_CD   ASC,EMPLOYMENT_TYPE_CD   ASC,HRSR_ACTION_CD   ASC,HRSR_WORK_HOURS_CD   ASC);

CREATE INDEX TH204_IF1 ON TH204_XREF_STAFFING_VALIDATION
(ASSIGNMENT_TYPE_CD   ASC);

CREATE INDEX TH204_IF2 ON TH204_XREF_STAFFING_VALIDATION
(EMPLOYMENT_TYPE_CD   ASC);

CREATE INDEX TH204_IF3 ON TH204_XREF_STAFFING_VALIDATION
(HRSR_ACTION_CD   ASC);

CREATE INDEX TH204_IF4 ON TH204_XREF_STAFFING_VALIDATION
(HRSR_WORK_HOURS_CD   ASC);

CREATE INDEX TH204_IF5 ON TH204_XREF_STAFFING_VALIDATION
(EXTENSION_CD   ASC);

ALTER TABLE TH204_XREF_STAFFING_VALIDATION
ADD CONSTRAINT  TH204_PK PRIMARY KEY (STAFFING_VALIDATION_ID);

ALTER TABLE TH204_XREF_STAFFING_VALIDATION
ADD CONSTRAINT  TH204_AK1 UNIQUE (ASSIGNMENT_TYPE_CD,EMPLOYMENT_TYPE_CD,HRSR_ACTION_CD,HRSR_WORK_HOURS_CD);

ALTER TABLE TH204_XREF_STAFFING_VALIDATION
ADD CONSTRAINT TH204_ASSIG_FK FOREIGN KEY (ASSIGNMENT_TYPE_CD) REFERENCES ASSIGNMENT_TYPES (AST_ASSIGNMENT_TYPE_CODE);

ALTER TABLE TH204_XREF_STAFFING_VALIDATION
ADD CONSTRAINT TH204_TH189_FK FOREIGN KEY (EMPLOYMENT_TYPE_CD) REFERENCES TH189_EMPLOYMENT_TYPE (EMPLOYMENT_TYPE_CD);

ALTER TABLE TH204_XREF_STAFFING_VALIDATION
ADD CONSTRAINT TH204_TH048_FK FOREIGN KEY (HRSR_ACTION_CD) REFERENCES TH048_HRSR_ACTION (ACT_ACTION_CD);

ALTER TABLE TH204_XREF_STAFFING_VALIDATION
ADD CONSTRAINT TH204_TH198_FK FOREIGN KEY (HRSR_WORK_HOURS_CD) REFERENCES TH198_HRSR_WORK_HOURS (HRSR_WORK_HOURS_CD);

ALTER TABLE TH204_XREF_STAFFING_VALIDATION
ADD CONSTRAINT TH204_TH053_FK FOREIGN KEY (EXTENSION_CD) REFERENCES TH053_EXTENSION_CD (EXT_EXTENSION_CD);


CREATE OR REPLACE PUBLIC SYNONYM TH204_XREF_STAFFING_VALIDATION
  FOR TH204_XREF_STAFFING_VALIDATION
/  

GRANT SELECT ON TH204_XREF_STAFFING_VALIDATION TO TIPSUSER
/
GRANT SELECT, INSERT, UPDATE, DELETE ON TH204_XREF_STAFFING_VALIDATION TO EVERYTHING_IN_TIPS
/

